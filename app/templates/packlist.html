<!doctype html>
<html>
<head>
  <title>GIRIGHT | ãƒ‘ãƒƒã‚­ãƒ³ã‚°ãƒªã‚¹ãƒˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <nav class="navbar">
    <a href="{{ url_for('main.index') }}">ğŸ  ãƒ›ãƒ¼ãƒ </a>
    <a href="{{ url_for('main.search_gear') }}">ğŸ” æ¤œç´¢</a>
    <a href="{{ url_for('main.add_gear') }}">â• ã‚®ã‚¢è¿½åŠ </a>
    <a href="{{ url_for('main.packlist') }}">ğŸ’ ãƒ‘ãƒƒã‚¯ãƒªã‚¹ãƒˆ</a>
    <a href="{{ url_for('main.stats') }}">ğŸ“Š ã‚¹ã‚¿ãƒƒãƒ„</a>
  </nav>
  <div class="container">
    <h1>ğŸ’ ãƒ‘ãƒƒã‚­ãƒ³ã‚°ãƒªã‚¹ãƒˆ</h1>

  <p><strong>ä»Šå›æŒã£ã¦ãã‚®ã‚¢ã®ç·é‡é‡ï¼š</strong> {{ total_weight }} g</p>
  <p><strong>ç›®æ¨™é‡é‡ï¼š</strong> {{ target_weight }} g<br>
    {% if over > 0 %}
      ğŸ¥µ <strong>{{ over }}</strong> g ã‚ªãƒ¼ãƒãƒ¼ã—ã¦ã‚‹ã‚ˆï¼
    {% else %}
      ğŸ¥³ ä½™è£•ã‚ã‚Šï¼<strong>{{ -over }}</strong> g ã¾ã§ç©ã‚ã‚‹ã‚ˆï¼
    {% endif %}
  </p>

  <h2>ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®é‡ã•å†…è¨³</h2>
    <ul>
    {% for category, weight in category_weights.items() %}
        <li><strong>{{ category|capitalize }}</strong>: {{ weight }} g</li>
    {% endfor %}
    </ul>

  {% set category_groups = {} %}
  {% for gear in gears %}
    {% set _ = category_groups.setdefault(gear.category, []) %}
    {% set _ = category_groups[gear.category].append(gear) %}
  {% endfor %}

  {% for category, items in category_groups.items() %}
    <h2>{{ category|capitalize }}</h2>
    <ul>
      {% for gear in items %}
      <li style="margin-left: 1em;">
        <strong>{{ gear.name }}</strong> ({{ gear.weight }}g)
        {% if gear.essential %} [å¿…æº]{% endif %} - {{ gear.manufacturer }} - <em>{{ gear.notes }}</em>
      </li>
      {% endfor %}
    </ul>
  {% endfor %}

  <a href="{{ url_for('main.index') }}">â† æˆ»ã‚‹</a>
  </div>
</body>
</html>